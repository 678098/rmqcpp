<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RMQ - RabbitMQ C++ Library: BloombergLP::rmqp::Producer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RMQ - RabbitMQ C++ Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>BloombergLP</b></li><li class="navelem"><b>rmqp</b></li><li class="navelem"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html">Producer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBloombergLP_1_1rmqp_1_1Producer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BloombergLP::rmqp::Producer Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>RabbitMQ <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html" title="RabbitMQ Producer API for publishing to a specific Exchange.">Producer</a> API for publishing to a specific Exchange.  
 <a href="classBloombergLP_1_1rmqp_1_1Producer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rmqp__producer_8h_source.html">rmqp_producer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BloombergLP::rmqp::Producer:</div>
<div class="dyncontent">
<div class="center"><img src="classBloombergLP_1_1rmqp_1_1Producer__inherit__graph.png" border="0" usemap="#aBloombergLP_1_1rmqp_1_1Producer_inherit__map" alt="Inheritance graph"/></div>
<map name="aBloombergLP_1_1rmqp_1_1Producer_inherit__map" id="aBloombergLP_1_1rmqp_1_1Producer_inherit__map">
<area shape="rect" title="RabbitMQ Producer API for publishing to a specific Exchange." alt="" coords="100,5,243,47"/>
<area shape="rect" href="classBloombergLP_1_1rmqa_1_1ProducerImpl.html" title=" " alt="" coords="5,95,148,136"/>
<area shape="rect" href="classBloombergLP_1_1rmqtestmocks_1_1MockProducer.html" title="Mocks rmqp::Producer and/or rmqa::Producer." alt="" coords="172,95,363,136"/>
<area shape="rect" href="classBloombergLP_1_1rmqa_1_1TracingProducerImpl.html" title=" " alt="" coords="5,184,148,225"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa7a286807e3d94b3c17acc7f0e5c845e"><td class="memItemLeft" align="right" valign="top"><a id="aa7a286807e3d94b3c17acc7f0e5c845e" name="aa7a286807e3d94b3c17acc7f0e5c845e"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#aa7a286807e3d94b3c17acc7f0e5c845e">SendStatus</a> { <b>SENDING</b>
, <b>DUPLICATE</b>
, <b>TIMEOUT</b>
, <b>INFLIGHT_LIMIT</b>
 }</td></tr>
<tr class="memdesc:aa7a286807e3d94b3c17acc7f0e5c845e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible results of <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a03981c82096a257ebe27728eeb8870b6" title="Send a message with the given routingKey to the exchange targeted by the producer.">rmqp::Producer::send</a>. <br /></td></tr>
<tr class="separator:aa7a286807e3d94b3c17acc7f0e5c845e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba11df167d55aa55a42247003ee44a3"><td class="memItemLeft" align="right" valign="top">typedef bsl::function&lt; void(const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;, const bsl::string &amp;routingKey, const <a class="el" href="classBloombergLP_1_1rmqt_1_1ConfirmResponse.html">rmqt::ConfirmResponse</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">ConfirmationCallback</a></td></tr>
<tr class="memdesc:a3ba11df167d55aa55a42247003ee44a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked on receipt of message confirmation.  <a href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">More...</a><br /></td></tr>
<tr class="separator:a3ba11df167d55aa55a42247003ee44a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a03981c82096a257ebe27728eeb8870b6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#aa7a286807e3d94b3c17acc7f0e5c845e">SendStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a03981c82096a257ebe27728eeb8870b6">send</a> (const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;message, const bsl::string &amp;routingKey, const <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">rmqp::Producer::ConfirmationCallback</a> &amp;confirmCallback, const bsls::TimeInterval &amp;timeout)=0</td></tr>
<tr class="memdesc:a03981c82096a257ebe27728eeb8870b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message with the given <code>routingKey</code> to the exchange targeted by the producer.  <a href="classBloombergLP_1_1rmqp_1_1Producer.html#a03981c82096a257ebe27728eeb8870b6">More...</a><br /></td></tr>
<tr class="separator:a03981c82096a257ebe27728eeb8870b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d3ebadf7fb3d4d83cb701976860d373"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#aa7a286807e3d94b3c17acc7f0e5c845e">SendStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a8d3ebadf7fb3d4d83cb701976860d373">send</a> (const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;message, const bsl::string &amp;routingKey, rmqt::Mandatory::Value mandatoryFlag, const <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">rmqp::Producer::ConfirmationCallback</a> &amp;confirmCallback, const bsls::TimeInterval &amp;timeout)=0</td></tr>
<tr class="memdesc:a8d3ebadf7fb3d4d83cb701976860d373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message with the given <code>routingKey</code> to the exchange targeted by the producer.  <a href="classBloombergLP_1_1rmqp_1_1Producer.html#a8d3ebadf7fb3d4d83cb701976860d373">More...</a><br /></td></tr>
<tr class="separator:a8d3ebadf7fb3d4d83cb701976860d373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f32435017734398940f9f7e1efe7703"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#aa7a286807e3d94b3c17acc7f0e5c845e">SendStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a9f32435017734398940f9f7e1efe7703">trySend</a> (const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;message, const bsl::string &amp;routingKey, const <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">rmqp::Producer::ConfirmationCallback</a> &amp;confirmCallback)=0</td></tr>
<tr class="memdesc:a9f32435017734398940f9f7e1efe7703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a message with the given <code>routingKey</code> to the exchange targeted by the producer.  <a href="classBloombergLP_1_1rmqp_1_1Producer.html#a9f32435017734398940f9f7e1efe7703">More...</a><br /></td></tr>
<tr class="separator:a9f32435017734398940f9f7e1efe7703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eae2a1da826332d03484d54690f3e48"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classBloombergLP_1_1rmqt_1_1Result.html">rmqt::Result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a1eae2a1da826332d03484d54690f3e48">waitForConfirms</a> (const bsls::TimeInterval &amp;timeout)=0</td></tr>
<tr class="memdesc:a1eae2a1da826332d03484d54690f3e48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for all outstanding publisher confirms to arrive.  <a href="classBloombergLP_1_1rmqp_1_1Producer.html#a1eae2a1da826332d03484d54690f3e48">More...</a><br /></td></tr>
<tr class="separator:a1eae2a1da826332d03484d54690f3e48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb90af8ac5fc619261103d954c719c4f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classBloombergLP_1_1rmqt_1_1Future.html">rmqt::Future</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#aeb90af8ac5fc619261103d954c719c4f">updateTopologyAsync</a> (const <a class="el" href="classBloombergLP_1_1rmqt_1_1TopologyUpdate.html">rmqt::TopologyUpdate</a> &amp;topologyUpdate)=0</td></tr>
<tr class="memdesc:aeb90af8ac5fc619261103d954c719c4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates topology.  <a href="classBloombergLP_1_1rmqp_1_1Producer.html#aeb90af8ac5fc619261103d954c719c4f">More...</a><br /></td></tr>
<tr class="separator:aeb90af8ac5fc619261103d954c719c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >RabbitMQ <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html" title="RabbitMQ Producer API for publishing to a specific Exchange.">Producer</a> API for publishing to a specific Exchange. </p>
<p >A RabbitMQ Message <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html" title="RabbitMQ Producer API for publishing to a specific Exchange.">Producer</a> API object. A <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html" title="RabbitMQ Producer API for publishing to a specific Exchange.">Producer</a> is bound to a specific Exchange. These objects are constructed by the <a class="el" href="classBloombergLP_1_1rmqp_1_1Connection.html" title="Provide a RabbitMQ Connection API.">Connection</a> </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a3ba11df167d55aa55a42247003ee44a3" name="a3ba11df167d55aa55a42247003ee44a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba11df167d55aa55a42247003ee44a3">&#9670;&nbsp;</a></span>ConfirmationCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef bsl::function&lt;void(const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a>&amp;, const bsl::string&amp; routingKey, const <a class="el" href="classBloombergLP_1_1rmqt_1_1ConfirmResponse.html">rmqt::ConfirmResponse</a>&amp;)&gt; <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">BloombergLP::rmqp::Producer::ConfirmationCallback</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Invoked on receipt of message confirmation. </p>
<p >The user-provided ConfirmationCallback is invoked once RabbitMQ broker provides a guarantee (publisher confirm) that the message is enqueued.</p>
<p >A ConfirmationCallback implementation should perform any commit action, such as confirming to the sender of the message that the action will be completed. For example, an application which consumes from one queue and produces to another should send the acknowledgement to the first queue once the ConfirmationCallback is invoked from the publish. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a03981c82096a257ebe27728eeb8870b6" name="a03981c82096a257ebe27728eeb8870b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03981c82096a257ebe27728eeb8870b6">&#9670;&nbsp;</a></span>send() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#aa7a286807e3d94b3c17acc7f0e5c845e">SendStatus</a> BloombergLP::rmqp::Producer::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bsl::string &amp;&#160;</td>
          <td class="paramname"><em>routingKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">rmqp::Producer::ConfirmationCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>confirmCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bsls::TimeInterval &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a message with the given <code>routingKey</code> to the exchange targeted by the producer. </p>
<p >The behavior of this method depends on the the number of unconfirmed messages (sent but not yet confirmed by the broker). If this number is smaller than the limit configured when calling <a class="el" href="classBloombergLP_1_1rmqa_1_1VHost.html#a42bf3409bae2035e685ba4d5a6f2df23" title="Create a producer using the provided Topology. This method starts the process of declaring the topolo...">rmqa::VHost::createProducer</a>, this method will return immediately. Otherwise it will block until the unconfirmed message count drops below the limit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to be sent. </td></tr>
    <tr><td class="paramname">routingKey</td><td>The routing key (e.g. topic or queue name) passed to the exchange. </td></tr>
    <tr><td class="paramname">confirmCallback</td><td>Called when the broker explicitly confirms/rejects the message. Messages are automatically retried on reconnection, in which case this method may be called some time after invoking <code>send</code>. </td></tr>
    <tr><td class="paramname">timeout</td><td>How long to wait for as a relative timeout. If timeout is 0, the method will wait to send message indefinitely</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SENDING Returned when the library accepts the message for sending. If the connection is lost before receiving the publisher confirm from the broker, the library will retry sending the message. </dd>
<dd>
DUPLICATE Returned if a message with the same GUID has already been sent and is awaiting a confirm from the broker. This indicates an issue with the application. To send the same message multiple times, a new <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html" title="An AMQP content message.">rmqt::Message</a> object must be created every time. </dd>
<dd>
TIMEOUT Returned if a message couldn't be enqueued within the timeout time. </dd></dl>

<p>Implemented in <a class="el" href="classBloombergLP_1_1rmqa_1_1ProducerImpl.html#a0e8bb449f27e2d0b6df9e7f81bfe2168">BloombergLP::rmqa::ProducerImpl</a>, and <a class="el" href="classBloombergLP_1_1rmqa_1_1TracingProducerImpl.html#a7af0e09c9d65fdb7378fe129f1d44e4a">BloombergLP::rmqa::TracingProducerImpl</a>.</p>

</div>
</div>
<a id="a8d3ebadf7fb3d4d83cb701976860d373" name="a8d3ebadf7fb3d4d83cb701976860d373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3ebadf7fb3d4d83cb701976860d373">&#9670;&nbsp;</a></span>send() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#aa7a286807e3d94b3c17acc7f0e5c845e">SendStatus</a> BloombergLP::rmqp::Producer::send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bsl::string &amp;&#160;</td>
          <td class="paramname"><em>routingKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rmqt::Mandatory::Value&#160;</td>
          <td class="paramname"><em>mandatoryFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">rmqp::Producer::ConfirmationCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>confirmCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bsls::TimeInterval &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a message with the given <code>routingKey</code> to the exchange targeted by the producer. </p>
<p >The behavior of this method depends on the the number of unconfirmed messages (sent but not yet confirmed by the broker). If this number is smaller than the limit configured when calling <a class="el" href="classBloombergLP_1_1rmqa_1_1VHost.html#a42bf3409bae2035e685ba4d5a6f2df23" title="Create a producer using the provided Topology. This method starts the process of declaring the topolo...">rmqa::VHost::createProducer</a>, this method will return immediately. Otherwise it will block until the unconfirmed message count drops below the limit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to be sent. </td></tr>
    <tr><td class="paramname">routingKey</td><td>The routing key (e.g. topic or queue name) passed to the exchange. </td></tr>
    <tr><td class="paramname">mandatory</td><td>Specify the mandatory flag: RETURN_UNROUTABLE (Recommended): Any messages not passed to a queue are returned to the sender. confirmCallback will be invoked with a RETURN status. DISCARD_UNROUTABLE (<b>Dangerous</b>): Any messages not passed to a queue are confirmed by the broker. This will cause silent message loss in the event bindings aren't setup as expected. </td></tr>
    <tr><td class="paramname">confirmCallback</td><td>Called when the broker explicitly confirms/rejects the message. Messages are automatically retried on reconnection, in which case this method may be called some time after invoking <code>send</code>. </td></tr>
    <tr><td class="paramname">timeout</td><td>How long to wait for as a relative timeout. If timeout is 0, the method will wait to send message indefinitely</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SENDING Returned when the library accepts the message for sending. If the connection is lost before receiving the publisher confirm from the broker, the library will retry sending the message. </dd>
<dd>
DUPLICATE Returned if a message with the same GUID has already been sent and is awaiting a confirm from the broker. This indicates an issue with the application. To send the same message multiple times, a new <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html" title="An AMQP content message.">rmqt::Message</a> object must be created every time. </dd>
<dd>
TIMEOUT Returned if a message couldn't be enqueued within the timeout time. </dd></dl>

<p>Implemented in <a class="el" href="classBloombergLP_1_1rmqa_1_1ProducerImpl.html#a63ff185cf5ee3b230d3479128819718e">BloombergLP::rmqa::ProducerImpl</a>.</p>

</div>
</div>
<a id="a9f32435017734398940f9f7e1efe7703" name="a9f32435017734398940f9f7e1efe7703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f32435017734398940f9f7e1efe7703">&#9670;&nbsp;</a></span>trySend()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#aa7a286807e3d94b3c17acc7f0e5c845e">rmqp::Producer::SendStatus</a> BloombergLP::rmqa::Producer::trySend </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bsl::string &amp;&#160;</td>
          <td class="paramname"><em>routingKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqp_1_1Producer.html#a3ba11df167d55aa55a42247003ee44a3">rmqp::Producer::ConfirmationCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>confirmCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a message with the given <code>routingKey</code> to the exchange targeted by the producer. </p>
<p >The behavior of this method depends on the the number of unconfirmed messages (sent but not yet confirmed by the broker). If this number is smaller than the limit configured when calling <a class="el" href="classBloombergLP_1_1rmqa_1_1VHost.html#a42bf3409bae2035e685ba4d5a6f2df23" title="Create a producer using the provided Topology. This method starts the process of declaring the topolo...">rmqa::VHost::createProducer</a>, this method behaves exactly as the method <code>send</code>. Otherwise, unlike <code>send</code>, this method returns immediately with a result indicating that the unconfirmed message limit has been reached.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to be sent. </td></tr>
    <tr><td class="paramname">routingKey</td><td>The routing key (e.g. topic or queue name) passed to the exchange. </td></tr>
    <tr><td class="paramname">confirmCallback</td><td>Called when the broker explicitly confirms/rejects the message. Messages are automatically retried on reconnection, in which case this method may be called some time after invoking <code>send</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SENDING Returned when the library accepts the message for sending. If the connection is lost before receiving the publisher confirm from the broker, the library will retry sending the message. </dd>
<dd>
DUPLICATE Returned if a message with the same GUID has already been sent and is awaiting a confirm from the broker. This indicates an issue with the application. To send the same message multiple times, a new <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html" title="An AMQP content message.">rmqt::Message</a> object must be created every time. </dd>
<dd>
INFLIGHT_LIMIT Returned if the unconfirmed message limit has been reached. </dd></dl>

<p>Implemented in <a class="el" href="classBloombergLP_1_1rmqa_1_1ProducerImpl.html#a7119b6a36fbf3d2d5ece026dcf9ecb0d">BloombergLP::rmqa::ProducerImpl</a>, and <a class="el" href="classBloombergLP_1_1rmqa_1_1TracingProducerImpl.html#a5d3fee3a7d5d851b9da58c491671450f">BloombergLP::rmqa::TracingProducerImpl</a>.</p>

</div>
</div>
<a id="aeb90af8ac5fc619261103d954c719c4f" name="aeb90af8ac5fc619261103d954c719c4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb90af8ac5fc619261103d954c719c4f">&#9670;&nbsp;</a></span>updateTopologyAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classBloombergLP_1_1rmqt_1_1Future.html">rmqt::Future</a> BloombergLP::rmqp::Producer::updateTopologyAsync </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqt_1_1TopologyUpdate.html">rmqt::TopologyUpdate</a> &amp;&#160;</td>
          <td class="paramname"><em>topologyUpdate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates topology. </p>
<dl class="section return"><dt>Returns</dt><dd>A Future which, when resolved, will contain the result of the update. </dd></dl>

<p>Implemented in <a class="el" href="classBloombergLP_1_1rmqa_1_1ProducerImpl.html#a79d421af5e50b113b469b1e700191a5b">BloombergLP::rmqa::ProducerImpl</a>.</p>

</div>
</div>
<a id="a1eae2a1da826332d03484d54690f3e48" name="a1eae2a1da826332d03484d54690f3e48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eae2a1da826332d03484d54690f3e48">&#9670;&nbsp;</a></span>waitForConfirms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classBloombergLP_1_1rmqt_1_1Result.html">rmqt::Result</a> BloombergLP::rmqp::Producer::waitForConfirms </td>
          <td>(</td>
          <td class="paramtype">const bsls::TimeInterval &amp;&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for all outstanding publisher confirms to arrive. </p>
<p >This method allows</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>How long to wait for. If timeout is 0, the method will wait for confirms indefinitely.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if all outstanding confirms have arrived. </dd>
<dd>
false if waiting timed out. </dd></dl>

<p>Implemented in <a class="el" href="classBloombergLP_1_1rmqa_1_1ProducerImpl.html#af300b77b9718e19892b15437edb679ec">BloombergLP::rmqa::ProducerImpl</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/rmq/rmqp/<a class="el" href="rmqp__producer_8h_source.html">rmqp_producer.h</a></li>
<li>src/rmq/rmqa/rmqa_producer.cpp</li>
<li>src/rmq/rmqp/rmqp_producer.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
