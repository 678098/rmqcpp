<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RMQ - RabbitMQ C++ Library: BloombergLP::rmqa::TracingMessageGuard Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RMQ - RabbitMQ C++ Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>BloombergLP</b></li><li class="navelem"><b>rmqa</b></li><li class="navelem"><a class="el" href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard.html">TracingMessageGuard</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BloombergLP::rmqa::TracingMessageGuard Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Controls acknowledgements passed to broker for consumed messages.  
 <a href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rmqa__tracingmessageguard_8h_source.html">rmqa_tracingmessageguard.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for BloombergLP::rmqa::TracingMessageGuard:</div>
<div class="dyncontent">
<div class="center"><img src="classBloombergLP_1_1rmqa_1_1TracingMessageGuard__inherit__graph.png" border="0" usemap="#aBloombergLP_1_1rmqa_1_1TracingMessageGuard_inherit__map" alt="Inheritance graph"/></div>
<map name="aBloombergLP_1_1rmqa_1_1TracingMessageGuard_inherit__map" id="aBloombergLP_1_1rmqa_1_1TracingMessageGuard_inherit__map">
<area shape="rect" title="Controls acknowledgements passed to broker for consumed messages." alt="" coords="5,184,159,225"/>
<area shape="rect" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html" title="Controls acknowledgements passed to broker for consumed messages." alt="" coords="11,95,153,136"/>
<area shape="rect" href="classBloombergLP_1_1rmqp_1_1MessageGuard.html" title="An interface for MessageGuard class." alt="" coords="11,5,153,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for BloombergLP::rmqa::TracingMessageGuard:</div>
<div class="dyncontent">
<div class="center"><img src="classBloombergLP_1_1rmqa_1_1TracingMessageGuard__coll__graph.png" border="0" usemap="#aBloombergLP_1_1rmqa_1_1TracingMessageGuard_coll__map" alt="Collaboration graph"/></div>
<map name="aBloombergLP_1_1rmqa_1_1TracingMessageGuard_coll__map" id="aBloombergLP_1_1rmqa_1_1TracingMessageGuard_coll__map">
<area shape="rect" title="Controls acknowledgements passed to broker for consumed messages." alt="" coords="5,184,159,225"/>
<area shape="rect" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html" title="Controls acknowledgements passed to broker for consumed messages." alt="" coords="11,95,153,136"/>
<area shape="rect" href="classBloombergLP_1_1rmqp_1_1MessageGuard.html" title="An interface for MessageGuard class." alt="" coords="11,5,153,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard_1_1Factory.html">Factory</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a02dbfb6786780dfb43134cb10fbb3896"><td class="memItemLeft" align="right" valign="top"><a id="a02dbfb6786780dfb43134cb10fbb3896" name="a02dbfb6786780dfb43134cb10fbb3896"></a>
typedef bsl::function&lt; void(const <a class="el" href="classBloombergLP_1_1rmqt_1_1ConsumerAck.html">rmqt::ConsumerAck</a> &amp;)&gt;&#160;</td><td class="memItemRight" valign="bottom"><b>MessageGuardCallback</b></td></tr>
<tr class="separator:a02dbfb6786780dfb43134cb10fbb3896"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a649d3e2655968be58996e9d3fc18ac56"><td class="memItemLeft" align="right" valign="top">rmqp::TransferrableMessageGuard&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard.html#a649d3e2655968be58996e9d3fc18ac56">transferOwnership</a> () BSLS_KEYWORD_OVERRIDE</td></tr>
<tr class="separator:a649d3e2655968be58996e9d3fc18ac56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96803979ff168b8a42223cde57799783"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard.html#a96803979ff168b8a42223cde57799783">TracingMessageGuard</a> (const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;<a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#ad0a07acc53bc761ed0b54c9e0951a59d">message</a>, const <a class="el" href="classBloombergLP_1_1rmqt_1_1Envelope.html">rmqt::Envelope</a> &amp;<a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#af81b15dc3fe5822cda07030c77fc7b6e">envelope</a>, const MessageGuardCallback &amp;ackCallback, <a class="el" href="classBloombergLP_1_1rmqp_1_1Consumer.html">rmqp::Consumer</a> *<a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#a829a686e8ce7615782f043ab42f1ce54">consumer</a>, const bsl::string &amp;queueName, const bsl::shared_ptr&lt; const <a class="el" href="classBloombergLP_1_1rmqt_1_1Endpoint.html">rmqt::Endpoint</a> &gt; &amp;endpoint, const bsl::shared_ptr&lt; <a class="el" href="classBloombergLP_1_1rmqp_1_1ConsumerTracing.html">rmqp::ConsumerTracing</a> &gt; &amp;contextFactory)</td></tr>
<tr class="separator:a96803979ff168b8a42223cde57799783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5167b165903b82f736e53948707c491"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard.html#ae5167b165903b82f736e53948707c491">TracingMessageGuard</a> (const <a class="el" href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard.html">TracingMessageGuard</a> &amp;obj)</td></tr>
<tr class="separator:ae5167b165903b82f736e53948707c491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a07acc53bc761ed0b54c9e0951a59d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#ad0a07acc53bc761ed0b54c9e0951a59d">message</a> () const BSLS_KEYWORD_OVERRIDE</td></tr>
<tr class="memdesc:ad0a07acc53bc761ed0b54c9e0951a59d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the received message.  <a href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#ad0a07acc53bc761ed0b54c9e0951a59d">More...</a><br /></td></tr>
<tr class="separator:ad0a07acc53bc761ed0b54c9e0951a59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81b15dc3fe5822cda07030c77fc7b6e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Envelope.html">rmqt::Envelope</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#af81b15dc3fe5822cda07030c77fc7b6e">envelope</a> () const BSLS_KEYWORD_OVERRIDE</td></tr>
<tr class="memdesc:af81b15dc3fe5822cda07030c77fc7b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the received message envelope (delivery details)  <a href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#af81b15dc3fe5822cda07030c77fc7b6e">More...</a><br /></td></tr>
<tr class="separator:af81b15dc3fe5822cda07030c77fc7b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8469aeed78a0b44f05008a44e843bf02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#a8469aeed78a0b44f05008a44e843bf02">ack</a> () BSLS_KEYWORD_OVERRIDE</td></tr>
<tr class="separator:a8469aeed78a0b44f05008a44e843bf02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3406f30957f7c165e62415cb0207452e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#a3406f30957f7c165e62415cb0207452e">nack</a> (bool requeue=true) BSLS_KEYWORD_OVERRIDE</td></tr>
<tr class="separator:a3406f30957f7c165e62415cb0207452e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829a686e8ce7615782f043ab42f1ce54"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classBloombergLP_1_1rmqp_1_1Consumer.html">rmqp::Consumer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#a829a686e8ce7615782f043ab42f1ce54">consumer</a> () const BSLS_KEYWORD_OVERRIDE</td></tr>
<tr class="memdesc:a829a686e8ce7615782f043ab42f1ce54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the <a class="el" href="classBloombergLP_1_1rmqa_1_1Consumer.html" title="Provide a RabbitMQ Async Consumer API.">Consumer</a>, e.g. to cancel the message flow.  <a href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#a829a686e8ce7615782f043ab42f1ce54">More...</a><br /></td></tr>
<tr class="separator:a829a686e8ce7615782f043ab42f1ce54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-types" name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:afc5a00269250530b9daea5a44a862bbc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#afc5a00269250530b9daea5a44a862bbc">State</a> { <b>READY</b>
, <b>TRANSFERRED</b>
, <b>RESOLVED</b>
 }</td></tr>
<tr class="separator:afc5a00269250530b9daea5a44a862bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a771fb4d19dda369c3ba25feed8142d60"><td class="memItemLeft" align="right" valign="top"><a id="a771fb4d19dda369c3ba25feed8142d60" name="a771fb4d19dda369c3ba25feed8142d60"></a>
<a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#afc5a00269250530b9daea5a44a862bbc">State</a>&#160;</td><td class="memItemRight" valign="bottom"><b>state</b> () const</td></tr>
<tr class="separator:a771fb4d19dda369c3ba25feed8142d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Controls acknowledgements passed to broker for consumed messages. </p>
<p >A <a class="el" href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard.html" title="Controls acknowledgements passed to broker for consumed messages.">TracingMessageGuard</a> is passed to the <a class="el" href="classBloombergLP_1_1rmqa_1_1Consumer.html" title="Provide a RabbitMQ Async Consumer API.">rmqa::Consumer</a> callback function (defined in <a class="el" href="classBloombergLP_1_1rmqp_1_1Consumer.html" title="Provide a RabbitMQ Async Consumer API.">rmqp::Consumer</a>) for each message in the event that ConsumerTracing is enabled. The difference being that the ConsumerTracing context is created from the thread that will process the message callback, and the context will be bound to the messageGuard. The object allows acknowledging either positively or negatively, with options to requeue. If a <a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html" title="Controls acknowledgements passed to broker for consumed messages.">MessageGuard</a> object is allowed to destruct before ack/nack is called a nack with requeue is automatically signaled to the broker. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="afc5a00269250530b9daea5a44a862bbc" name="afc5a00269250530b9daea5a44a862bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc5a00269250530b9daea5a44a862bbc">&#9670;&nbsp;</a></span>State</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#afc5a00269250530b9daea5a44a862bbc">BloombergLP::rmqa::MessageGuard::State</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Ready - not resolved yet Invalid - ownership moved Resolved - message (n)acked. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a96803979ff168b8a42223cde57799783" name="a96803979ff168b8a42223cde57799783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96803979ff168b8a42223cde57799783">&#9670;&nbsp;</a></span>TracingMessageGuard() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BloombergLP::rmqa::TracingMessageGuard::TracingMessageGuard </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Envelope.html">rmqt::Envelope</a> &amp;&#160;</td>
          <td class="paramname"><em>envelope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const MessageGuardCallback &amp;&#160;</td>
          <td class="paramname"><em>ackCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBloombergLP_1_1rmqp_1_1Consumer.html">rmqp::Consumer</a> *&#160;</td>
          <td class="paramname"><em>consumer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bsl::string &amp;&#160;</td>
          <td class="paramname"><em>queueName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bsl::shared_ptr&lt; const <a class="el" href="classBloombergLP_1_1rmqt_1_1Endpoint.html">rmqt::Endpoint</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bsl::shared_ptr&lt; <a class="el" href="classBloombergLP_1_1rmqp_1_1ConsumerTracing.html">rmqp::ConsumerTracing</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>contextFactory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructs a new valid guard </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Consumed message </td></tr>
    <tr><td class="paramname">envelope</td><td>Consumed delivery metadata </td></tr>
    <tr><td class="paramname">ackCallback</td><td>Callback called when resolving message </td></tr>
    <tr><td class="paramname">consumer</td><td>Pointer to the <a class="el" href="classBloombergLP_1_1rmqa_1_1Consumer.html" title="Provide a RabbitMQ Async Consumer API.">Consumer</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae5167b165903b82f736e53948707c491" name="ae5167b165903b82f736e53948707c491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5167b165903b82f736e53948707c491">&#9670;&nbsp;</a></span>TracingMessageGuard() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BloombergLP::rmqa::TracingMessageGuard::TracingMessageGuard </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBloombergLP_1_1rmqa_1_1TracingMessageGuard.html">TracingMessageGuard</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >During copying <code>obj</code> is invalidated and thereafter cannot be used to (n)ack. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8469aeed78a0b44f05008a44e843bf02" name="a8469aeed78a0b44f05008a44e843bf02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8469aeed78a0b44f05008a44e843bf02">&#9670;&nbsp;</a></span>ack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BloombergLP::rmqa::MessageGuard::ack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Acknowledge the received message. Callable only once. Should only be called <em>after</em> the message has been fully processed</p>
<p >A message acknowledgement is fire-and-forget. If the broker does not receive this (e.g. due to connection drop), the message will be redelivered to another consumer. </p>

<p>Implements <a class="el" href="classBloombergLP_1_1rmqp_1_1MessageGuard.html#ab990b4ed4691fce08a97031b736e5d30">BloombergLP::rmqp::MessageGuard</a>.</p>

</div>
</div>
<a id="a829a686e8ce7615782f043ab42f1ce54" name="a829a686e8ce7615782f043ab42f1ce54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a829a686e8ce7615782f043ab42f1ce54">&#9670;&nbsp;</a></span>consumer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBloombergLP_1_1rmqp_1_1Consumer.html">rmqp::Consumer</a> * BloombergLP::rmqa::MessageGuard::consumer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the <a class="el" href="classBloombergLP_1_1rmqa_1_1Consumer.html" title="Provide a RabbitMQ Async Consumer API.">Consumer</a>, e.g. to cancel the message flow. </p>

<p>Implements <a class="el" href="classBloombergLP_1_1rmqp_1_1MessageGuard.html#a628f6f5e2577e675b800f3dc60c91659">BloombergLP::rmqp::MessageGuard</a>.</p>

</div>
</div>
<a id="af81b15dc3fe5822cda07030c77fc7b6e" name="af81b15dc3fe5822cda07030c77fc7b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af81b15dc3fe5822cda07030c77fc7b6e">&#9670;&nbsp;</a></span>envelope()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Envelope.html">rmqt::Envelope</a> &amp; BloombergLP::rmqa::MessageGuard::envelope </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access the received message envelope (delivery details) </p>

<p>Implements <a class="el" href="classBloombergLP_1_1rmqp_1_1MessageGuard.html#a61896f86452d9f129c319a98728261a4">BloombergLP::rmqp::MessageGuard</a>.</p>

</div>
</div>
<a id="ad0a07acc53bc761ed0b54c9e0951a59d" name="ad0a07acc53bc761ed0b54c9e0951a59d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0a07acc53bc761ed0b54c9e0951a59d">&#9670;&nbsp;</a></span>message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBloombergLP_1_1rmqt_1_1Message.html">rmqt::Message</a> &amp; BloombergLP::rmqa::MessageGuard::message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access the received message. </p>

<p>Implements <a class="el" href="classBloombergLP_1_1rmqp_1_1MessageGuard.html#a231513be61a19ad9791e2a68d8fe79db">BloombergLP::rmqp::MessageGuard</a>.</p>

</div>
</div>
<a id="a3406f30957f7c165e62415cb0207452e" name="a3406f30957f7c165e62415cb0207452e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3406f30957f7c165e62415cb0207452e">&#9670;&nbsp;</a></span>nack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BloombergLP::rmqa::MessageGuard::nack </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>requeue</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Negative acknowledge the received message. Callable only once. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requeue</td><td><code>true</code> requeues the message on the broker for redelivery , if <code>false</code>, then the message will be either dead lettered (if a dead letter exchange is specified) or dropped if not. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBloombergLP_1_1rmqp_1_1MessageGuard.html#ad511fe075c74eece8332f9c5ab0e8682">BloombergLP::rmqp::MessageGuard</a>.</p>

</div>
</div>
<a id="a649d3e2655968be58996e9d3fc18ac56" name="a649d3e2655968be58996e9d3fc18ac56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a649d3e2655968be58996e9d3fc18ac56">&#9670;&nbsp;</a></span>transferOwnership()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rmqp::TransferrableMessageGuard BloombergLP::rmqa::TracingMessageGuard::transferOwnership </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Transfers ownership of the message processing to a <a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html" title="Controls acknowledgements passed to broker for consumed messages.">MessageGuard</a> that is copyable (shared pointer semantics) RETURN a shared pointer to a valid message guard, </p><dl class="section note"><dt>Note</dt><dd>if the <a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html" title="Controls acknowledgements passed to broker for consumed messages.">MessageGuard</a> has already been resolved or transferred (ack/nack) a warning will be printed </dd></dl>

<p>Reimplemented from <a class="el" href="classBloombergLP_1_1rmqa_1_1MessageGuard.html#ae2aff72f2f6bc274f49eb723e0e03b2a">BloombergLP::rmqa::MessageGuard</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/rmq/rmqa/<a class="el" href="rmqa__tracingmessageguard_8h_source.html">rmqa_tracingmessageguard.h</a></li>
<li>src/rmq/rmqa/rmqa_tracingmessageguard.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
